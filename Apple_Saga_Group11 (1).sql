------------------------------
-- dropping existing tables --
------------------------------

drop table order_list;
drop table review; 
drop table payment;
drop table delivery;
drop table shopping_order;
drop table product;
drop table product_category;
drop table customer;


-------------------------
-- creating the tables --
-------------------------

CREATE TABLE CUSTOMER
(
   CUST_ID VARCHAR (10) ,
   CUST_NAME VARCHAR (50) NOT NULL UNIQUE,
   CUST_CONTACT NUMBER (20) NOT NULL,
   CUST_ADDRESS CHAR (70) NOT NULL,
   CUST_EMAIL VARCHAR (50) NOT NULL UNIQUE,
   CUST_DOB DATE NOT NULL,
  PRIMARY KEY(CUST_ID)
);

INSERT INTO CUSTOMER VALUES ('CUST001', 'Ali bin Abu', 60123456789, '123 Jalan Ampang, Kuala Lumpur, Malaysia', 'ali@example.com', 'MAY-20-2002');
INSERT INTO CUSTOMER VALUES ('CUST002', 'Siti binti Ahmad', 60123456790, '456 Jalan Pudu, Petaling Jaya, Malaysia', 'siti@example.com', 'AUG-18-2002');
INSERT INTO CUSTOMER VALUES ('CUST003', 'Ahmad bin Ismail', 60123456791, '789 Jalan Bukit Bintang, Penang, Malaysia', 'ahmad@example.com', 'JUL-19-1997');
INSERT INTO CUSTOMER VALUES ('CUST004', 'Linda binti Rahman', 60123456792, '321 Jalan Raja Chulan, Johor Bahru, Malaysia', 'linda@example.com', 'JUN-28-1992');
INSERT INTO CUSTOMER VALUES ('CUST005', 'Mohd bin Abdullah', 60123456793, '567 Jalan Sultan Ismail, Kuantan, Malaysia', 'mohd@example.com', 'AUG-31-2000');
INSERT INTO CUSTOMER VALUES ('CUST006', 'Aminah binti Hassan', 60123456795, '234 Jalan Kuching, Melaka, Malaysia', 'aminah@example.com', 'OCT-18-2002');
INSERT INTO CUSTOMER VALUES ('CUST007', 'Lee Siew Mei', 60123456800, '123 Jalan Puchong, Petaling Jaya, Malaysia', 'lee@example.com', 'DEC-07-2001');
INSERT INTO CUSTOMER VALUES ('CUST008', 'Chong Wei Liang', 60123456801, '456 Jalan Perak, Penang, Malaysia', 'chong@example.com', 'MAY-19-1998');
INSERT INTO CUSTOMER VALUES ('CUST009', 'Kumar a/l Raju', 60123456802, '789 Jalan Raja Chulan, Kuala Lumpur, Malaysia', 'kumar@example.com', 'DEC-25-2001');
INSERT INTO CUSTOMER VALUES ('CUST010', 'Nguyen Thi Linh', 60123456803, '890 Jalan Bukit Bintang, Kuala Lumpur, Malaysia', 'nguyen@example.com', 'AUG-9-2007');

CREATE TABLE PRODUCT_CATEGORY
(
    CATEGORY_ID VARCHAR(10),
    CATEGORY_NAME VARCHAR (30) NOT NULL UNIQUE,
    CATEGORY_TYPE VARCHAR (50) NOT NULL,
    PRIMARY KEY (CATEGORY_ID)
);



INSERT INTO PRODUCT_CATEGORY VALUES ('CAT001', 'Apple Watch ', 'Gadgets');
INSERT INTO PRODUCT_CATEGORY VALUES ('CAT002', 'Airpod', 'Gadgets');
INSERT INTO PRODUCT_CATEGORY VALUES ('CAT003', 'Mac', 'Electronics');
INSERT INTO PRODUCT_CATEGORY VALUES ('CAT004', 'iPad', 'Gadgets');
INSERT INTO PRODUCT_CATEGORY VALUES ('CAT005', 'iPhone', 'Gadgets');
INSERT INTO PRODUCT_CATEGORY VALUES ('CAT006', 'Keyboards ', 'Gadgets');

CREATE TABLE PRODUCT
(
    PRODUCT_ID VARCHAR(20),
    PRODUCT_NAME VARCHAR(70) NOT NULL,
    PRODUCT_PRICE NUMBER(7,2) NOT NULL,
    PRODUCT_COLOUR VARCHAR(20) NOT NULL,
    CATEGORY_ID VARCHAR(10),
    PRIMARY KEY (PRODUCT_ID),
    FOREIGN KEY (CATEGORY_ID) REFERENCES PRODUCT_CATEGORY (CATEGORY_ID)
);
INSERT INTO PRODUCT VALUES ('PROD001', 'iPhone 14', 4199.00, 'White', 'CAT005'); 
INSERT INTO PRODUCT VALUES ('PROD002', 'iPhone 13', 3199.00, 'Gold', 'CAT005');
INSERT INTO PRODUCT VALUES ('PROD003', 'iPhone 12', 5299.00, 'Red', 'CAT005');
INSERT INTO PRODUCT VALUES ('PROD004', 'iPad Pro 11-inch', 3899.00, 'Sliver', 'CAT004');
INSERT INTO PRODUCT VALUES ('PROD005', 'iPad Pro 12.9-inch', 5399.00, 'black', 'CAT004');
INSERT INTO PRODUCT VALUES ('PROD006', 'AirPods (2nd generation)', 629.00, 'white', 'CAT002');
INSERT INTO PRODUCT VALUES ('PROD007', 'AirPods Pro', 1099.00, 'white', 'CAT002');
INSERT INTO PRODUCT VALUES ('PROD008', 'Apple Watch Series 8', 1899.00, 'Sliver', 'CAT001');
INSERT INTO PRODUCT VALUES ('PROD009', 'Apple Watch SE', 1199.00, 'Sliver', 'CAT001');
INSERT INTO PRODUCT VALUES ('PROD0010', 'MacBook Pro 13', 5699.00, 'White', 'CAT003');
INSERT INTO PRODUCT VALUES ('PROD0011', 'MacBook Pro 14', 8799.00, 'Sliver', 'CAT003');
INSERT INTO PRODUCT VALUES ('PROD0012', 'Smart Keyboard for iPad Pro 12.9-inch', 699.00, 'Black', 'CAT006');
INSERT INTO PRODUCT VALUES ('PROD0013', 'Magic Keyboard for iPad', 1249.00, 'White', 'CAT006');




CREATE TABLE SHOPPING_ORDER
(
    ORDER_ID VARCHAR(10),
    ORDER_DATE DATE NOT NULL,
    CUST_ID VARCHAR (10),
    PRIMARY KEY (ORDER_ID),
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER (CUST_ID)
);
INSERT INTO SHOPPING_ORDER VALUES ('ORD001', 'MAY-07-2023', 'CUST001');
INSERT INTO SHOPPING_ORDER VALUES ('ORD002', 'MAR-14-2023', 'CUST003');
INSERT INTO SHOPPING_ORDER VALUES ('ORD003', 'FEB-02-2023', 'CUST002');
INSERT INTO SHOPPING_ORDER VALUES ('ORD004', 'MAY-20-2023', 'CUST002');
INSERT INTO SHOPPING_ORDER VALUES ('ORD005', 'JAN-09-2023', 'CUST003');
INSERT INTO SHOPPING_ORDER VALUES ('ORD006', 'MAY-01-2023', 'CUST007');
INSERT INTO SHOPPING_ORDER VALUES ('ORD007', 'APR-01-2023', 'CUST004');
INSERT INTO SHOPPING_ORDER VALUES ('ORD008', 'JUN-22-2023', 'CUST005');
INSERT INTO SHOPPING_ORDER VALUES ('ORD009', 'FEB-15-2023', 'CUST010');
INSERT INTO SHOPPING_ORDER VALUES ('ORD010', 'JAN-31-2023', 'CUST006');
INSERT INTO SHOPPING_ORDER VALUES ('ORD011', 'MAR-18-2023', 'CUST006');
INSERT INTO SHOPPING_ORDER VALUES ('ORD012', 'APR-28-2023', 'CUST009');
INSERT INTO SHOPPING_ORDER VALUES ('ORD013', 'JUL-10-2023', 'CUST001');
INSERT INTO SHOPPING_ORDER VALUES ('ORD014', 'APR-02-2023', 'CUST008');
INSERT INTO SHOPPING_ORDER VALUES ('ORD015', 'MAY-15-2023', 'CUST007');
INSERT INTO SHOPPING_ORDER VALUES ('ORD016', 'JUN-28-2023', 'CUST004');
INSERT INTO SHOPPING_ORDER VALUES ('ORD017', 'AUG-05-2023', 'CUST003');
INSERT INTO SHOPPING_ORDER VALUES ('ORD018', 'JUL-19-2023', 'CUST010');





CREATE TABLE DELIVERY 
(
    DELIV_ID VARCHAR (10),
    DELIV_DATE DATE NOT NULL,
    ORDER_ID VARCHAR(10), 
    PRIMARY KEY (DELIV_ID),
    FOREIGN KEY (ORDER_ID) REFERENCES SHOPPING_ORDER (ORDER_ID)
);
INSERT INTO DELIVERY VALUES ('DEL001', 'MAY-10-2023', 'ORD001');
INSERT INTO DELIVERY VALUES ('DEL002', 'MAR-20-2023', 'ORD002');
INSERT INTO DELIVERY VALUES ('DEL003', 'FEB-10-2023', 'ORD003');
INSERT INTO DELIVERY VALUES ('DEL004', 'MAY-25-2023', 'ORD004');
INSERT INTO DELIVERY VALUES ('DEL005', 'JAN-15-2023', 'ORD005');
INSERT INTO DELIVERY VALUES ('DEL006', 'MAY-05-2023', 'ORD006');
INSERT INTO DELIVERY VALUES ('DEL007', 'APR-05-2023', 'ORD007');
INSERT INTO DELIVERY VALUES ('DEL008', 'JUN-25-2023', 'ORD008');
INSERT INTO DELIVERY VALUES ('DEL009', 'FEB-20-2023', 'ORD009');
INSERT INTO DELIVERY VALUES ('DEL010', 'FEB-05-2023', 'ORD010');
INSERT INTO DELIVERY VALUES ('DEL011', 'MAR-25-2023', 'ORD011');
INSERT INTO DELIVERY VALUES ('DEL012', 'MAY-05-2023', 'ORD012');
INSERT INTO DELIVERY VALUES ('DEL013', 'JUL-15-2023', 'ORD013');
INSERT INTO DELIVERY VALUES ('DEL014', 'APR-10-2023', 'ORD014');
INSERT INTO DELIVERY VALUES ('DEL015', 'MAY-20-2023', 'ORD015');
INSERT INTO DELIVERY VALUES ('DEL016', 'JUN-30-2023', 'ORD016');
INSERT INTO DELIVERY VALUES ('DEL017', 'AUG-10-2023', 'ORD017');
INSERT INTO DELIVERY VALUES ('DEL018', 'JUL-25-2023', 'ORD018');


CREATE TABLE PAYMENT
(
    PAYMENT_ID VARCHAR(10) ,
    PAYMENT_METHOD VARCHAR(10) NOT NULL,
    PAYMENT_DATE DATE NOT NULL,
    ORDER_ID VARCHAR(10),
    PRIMARY KEY (PAYMENT_ID),
    FOREIGN KEY (ORDER_ID) REFERENCES SHOPPING_ORDER (ORDER_ID)

);
INSERT INTO PAYMENT VALUES ('PAY001', 'Credit', 'MAY-10-2023', 'ORD001');
INSERT INTO PAYMENT VALUES ('PAY002', 'Credit', 'MAR-20-2023', 'ORD002');
INSERT INTO PAYMENT VALUES ('PAY003', 'Cash', 'FEB-10-2023', 'ORD003');
INSERT INTO PAYMENT VALUES ('PAY004', 'Credit', 'MAY-25-2023', 'ORD004');
INSERT INTO PAYMENT VALUES ('PAY005', 'Cash', 'JAN-15-2023', 'ORD005');
INSERT INTO PAYMENT VALUES ('PAY006', 'Debit', 'MAY-05-2023', 'ORD006');
INSERT INTO PAYMENT VALUES ('PAY007', 'Credit', 'APR-05-2023', 'ORD007');
INSERT INTO PAYMENT VALUES ('PAY008', 'Debit', 'JUN-25-2023', 'ORD008');
INSERT INTO PAYMENT VALUES ('PAY009', 'Debit', 'FEB-20-2023', 'ORD009');
INSERT INTO PAYMENT VALUES ('PAY010', 'Credit', 'FEB-05-2023', 'ORD010');
INSERT INTO PAYMENT VALUES ('PAY011', 'Debit', 'MAR-25-2023', 'ORD011');
INSERT INTO PAYMENT VALUES ('PAY012', 'Credit', 'MAY-05-2023', 'ORD012');
INSERT INTO PAYMENT VALUES ('PAY013', 'Credit', 'JUL-15-2023', 'ORD013');
INSERT INTO PAYMENT VALUES ('PAY014', 'Debit', 'APR-10-2023', 'ORD014');
INSERT INTO PAYMENT VALUES ('PAY015', 'Cash', 'MAY-20-2023', 'ORD015');
INSERT INTO PAYMENT VALUES ('PAY016', 'Credit', 'JUN-30-2023', 'ORD016');
INSERT INTO PAYMENT VALUES ('PAY017', 'Cash', 'AUG-10-2023', 'ORD017');
INSERT INTO PAYMENT VALUES ('PAY018', 'Debit', 'JUL-25-2023', 'ORD018');



CREATE TABLE REVIEW
(
    CASE_ID VARCHAR(10),
    CUST_ID VARCHAR (10),
    REVIEW_DATE DATE NOT NULL,
    REVIEW_DESCRIPTION VARCHAR (200),
    Rated_Value NUMBER(5) NOT NULL,
    PRIMARY KEY (CASE_ID),
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER (CUST_ID)
);
INSERT INTO REVIEW VALUES ('CASE001', 'CUST001', 'MAY-10-2023', 'The product arrived in perfect condition and works great.',5);
INSERT INTO REVIEW VALUES ('CASE002', 'CUST003', 'MAR-20-2023', 'I had some issues with the delivery, but the customer service resolved it promptly.',5);
INSERT INTO REVIEW VALUES ('CASE003', 'CUST002', 'FEB-10-2023', 'The product quality is excellent, highly recommended.',5);
INSERT INTO REVIEW VALUES ('CASE004', 'CUST002', 'MAY-25-2023', 'I received the wrong item, but the support team quickly sent a replacement.',4);
INSERT INTO REVIEW VALUES ('CASE005', 'CUST003', 'JAN-15-2023', 'The product was damaged during delivery, and I am waiting for a refund.',2);
INSERT INTO REVIEW VALUES ('CASE006', 'CUST007', 'MAY-05-2023', 'I havent received the product yet, and there is no update on the delivery status.',1);
INSERT INTO REVIEW VALUES ('CASE007', 'CUST004', 'APR-05-2023', 'The customer service was unhelpful and did not resolve my issue.',1);
INSERT INTO REVIEW VALUES ('CASE008', 'CUST005', 'JUN-25-2023', 'The product is not as described, and I want to return it for a refund.',1);
INSERT INTO REVIEW VALUES ('CASE009', 'CUST010', 'FEB-20-2023', 'The payment was processed twice, and I need a refund for the duplicate transaction.',3);
INSERT INTO REVIEW VALUES ('CASE010', 'CUST006', 'FEB-05-2023', 'I am satisfied with my purchase, and the delivery was prompt.',5);
INSERT INTO REVIEW VALUES ('CASE011', 'CUST006', 'MAR-25-2023', 'The product stopped working after a week, and I need assistance.',3);
INSERT INTO REVIEW VALUES ('CASE012', 'CUST009', 'MAY-05-2023', 'The product arrived damaged, and I want a replacement.',1);
INSERT INTO REVIEW VALUES ('CASE013', 'CUST001', 'JUL-15-2023', 'The product is of low quality and does not meet my expectations.',1);
INSERT INTO REVIEW VALUES ('CASE014', 'CUST008', 'APR-10-2023', 'The delivery was delayed without any communication.',2);
INSERT INTO REVIEW VALUES ('CASE015', 'CUST007', 'MAY-20-2023', 'The payment was not processed correctly, and I need a refund.',3);
INSERT INTO REVIEW VALUES ('CASE016', 'CUST004', 'JUN-30-2023', 'The customer service was helpful in resolving my issue.',5);
INSERT INTO REVIEW VALUES ('CASE017', 'CUST003', 'AUG-10-2023', 'I received the wrong color of the product, and I want an exchange.',2);
INSERT INTO REVIEW VALUES ('CASE018', 'CUST010', 'JUL-25-2023', 'The product arrived late, and I am not satisfied with the service.',1);


CREATE TABLE ORDER_LIST
(
    PRODUCT_ID VARCHAR(10) REFERENCES PRODUCT (PRODUCT_ID),
    ORDER_ID VARCHAR(10) REFERENCES SHOPPING_ORDER (ORDER_ID),
    PRODUCT_QUANTITY NUMBER(20) NOT NULL,
    PRIMARY KEY (PRODUCT_ID,ORDER_ID)
);
INSERT INTO ORDER_LIST VALUES ('PROD001', 'ORD001', 2);
INSERT INTO ORDER_LIST VALUES ('PROD002', 'ORD001', 1);
INSERT INTO ORDER_LIST VALUES ('PROD003', 'ORD002', 1);
INSERT INTO ORDER_LIST VALUES ('PROD004', 'ORD003', 3);
INSERT INTO ORDER_LIST VALUES ('PROD005', 'ORD003', 1);
INSERT INTO ORDER_LIST VALUES ('PROD006', 'ORD004', 2);
INSERT INTO ORDER_LIST VALUES ('PROD007', 'ORD004', 1);
INSERT INTO ORDER_LIST VALUES ('PROD008', 'ORD005', 1);
INSERT INTO ORDER_LIST VALUES ('PROD009', 'ORD006', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0010', 'ORD007', 2);
INSERT INTO ORDER_LIST VALUES ('PROD0011', 'ORD008', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0012', 'ORD009', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0013', 'ORD010', 1);
INSERT INTO ORDER_LIST VALUES ('PROD001', 'ORD011', 1);
INSERT INTO ORDER_LIST VALUES ('PROD002', 'ORD011', 1);
INSERT INTO ORDER_LIST VALUES ('PROD003', 'ORD011', 1);
INSERT INTO ORDER_LIST VALUES ('PROD004', 'ORD012', 2);
INSERT INTO ORDER_LIST VALUES ('PROD005', 'ORD012', 1);
INSERT INTO ORDER_LIST VALUES ('PROD006', 'ORD013', 1);
INSERT INTO ORDER_LIST VALUES ('PROD007', 'ORD014', 2);
INSERT INTO ORDER_LIST VALUES ('PROD008', 'ORD015', 1);
INSERT INTO ORDER_LIST VALUES ('PROD009', 'ORD015', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0010', 'ORD016', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0011', 'ORD016', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0012', 'ORD017', 1);
INSERT INTO ORDER_LIST VALUES ('PROD0013', 'ORD018', 2);
